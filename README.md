## Inject Secrets into Terraform Using the Vault Provider
In this tutorial, you assume the role of both the *Vault Admin* and the *Terraform Operator*.
1. First, as a Vault Admin, you will configure AWS Secrets Engine in Vault.
2. Then, as a Terraform Operator, you will connect to the Vault instance to retrieve dynamic, short-lived AWS credentials generated by the AWS Secrets Engine to provision an Ubuntu EC2 instance.
3. Finally, as a Vault Admin, you will remove the Terraform Operator's ability to manipulate EC2 instances by modifying the policy for the corresponding Vault role.

### Start Vault server
Start a Vault server in development mode with `education` as the root token. Leave this process running in your terminal window.
- `vault server -dev -dev-root-token-id="education"`
- Your Vault server should now be up. Navigate to `localhost:8200` and login into the instance using your root token: `t`.
- `$ export TF_VAR_aws_access_key=<AWS_ACCESS_KEY_ID>`
- `$ export TF_VAR_aws_secret_key=<AWS_SECRET_ACCESS_KEY>`
- `$ export VAULT_ADDR=http://127.0.0.1:8200`
- `$ export VAULT_TOKEN=education`
- Notice that there are two output variables named `backend` and `role`. These output variables will be used by the Terraform Operator workspace in a later step.

### Provision compute instance
Now that you have successfully configured Vault's AWS Secrets Engine, you can retrieve dynamic short lived AWS token to provision an EC2 instance.
- `cd ../operator-workspace`
- `terraform init`
- `terraform apply`
- Notice your credentials expired.

![image](https://user-images.githubusercontent.com/33342822/151642511-05387965-61fb-428a-acc5-1ed1e08164fa.png)

### Reference
https://learn.hashicorp.com/tutorials/terraform/secrets-vault
